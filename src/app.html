<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>IWAC Dashboard - Islam West Africa Collection</title>
		<meta
			name="description"
			content="Interactive dashboard and analytics for the Islam West Africa Collection (IWAC) database. Explore documents, visualize data by country, language, and timeline from West African Islamic collections."
		/>
		<meta
			name="keywords"
			content="IWAC, Islam West Africa, database, analytics, visualization, dashboard, Islamic collections, West Africa"
		/>
		<meta name="author" content="IWAC Project" />

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://fmadore.github.io/iwac-dashboard/" />
		<meta property="og:title" content="IWAC Dashboard" />
		<meta
			property="og:description"
			content="Interactive dashboard and analytics for the Islam West Africa Collection database"
		/>
		<meta property="og:image" content="https://fmadore.github.io/iwac-dashboard/pwa-512x512.png" />

		<!-- Twitter -->
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:url" content="https://fmadore.github.io/iwac-dashboard/" />
		<meta name="twitter:title" content="IWAC Dashboard" />
		<meta
			name="twitter:description"
			content="Interactive dashboard and analytics for the Islam West Africa Collection database"
		/>
		<meta name="twitter:image" content="https://fmadore.github.io/iwac-dashboard/pwa-512x512.png" />

		<!-- Favicon -->
		<link rel="icon" href="%sveltekit.assets%/favicon.png" type="image/png" />
		<link rel="icon" href="%sveltekit.assets%/favicon-16x16.png" sizes="16x16" type="image/png" />
		<link rel="apple-touch-icon" href="%sveltekit.assets%/apple-touch-icon.png" />

		<!-- Theme color for browsers -->
		<meta name="theme-color" content="#ffffff" />

		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<!-- 
			localStorage polyfill for cross-origin iframes.
			Must run BEFORE any Svelte code to prevent mode-watcher errors.
			When localStorage is blocked by tracking prevention, we replace it
			with an in-memory implementation.
		-->
		<script>
			(function () {
				try {
					var testKey = '__storage_test__';
					localStorage.setItem(testKey, testKey);
					localStorage.removeItem(testKey);
				} catch (e) {
					console.warn('IWAC Dashboard: localStorage blocked, using in-memory storage');
					var memoryStorage = {};
					var noopStorage = {
						get length() {
							return Object.keys(memoryStorage).length;
						},
						clear: function () {
							memoryStorage = {};
						},
						getItem: function (key) {
							return memoryStorage[key] !== undefined ? memoryStorage[key] : null;
						},
						key: function (index) {
							var keys = Object.keys(memoryStorage);
							return keys[index] !== undefined ? keys[index] : null;
						},
						removeItem: function (key) {
							delete memoryStorage[key];
						},
						setItem: function (key, value) {
							memoryStorage[key] = String(value);
						}
					};
					Object.defineProperty(window, 'localStorage', {
						value: noopStorage,
						writable: false,
						configurable: true
					});
				}
			})();
		</script>

		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>
